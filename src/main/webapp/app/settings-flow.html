<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <link rel="icon" type="image/x-icon" href="favicon.ico"/>
    <link rel="stylesheet" href="../dist/bootstrap.css">
    <!-- <link rel="stylesheet" href="../dist/bootstrap-icons.css"> -->
    <link rel="stylesheet" href="../dist/icheck-bootstrap.min.css">
    <link rel="stylesheet" href="../dist/bootstrap-dashboard.css">
    <link rel="stylesheet" href="../dist/toastr.min.css">
    <link rel="stylesheet" href="dashboard.css">
</head>
<!-- <body class="hold-transition" style="overflow-x: hidden;"> -->
<body style="overflow:hidden;">


<div class="container-fluid">
    <div class="row">
        <div class="col-md-3 sidepad bg-light" style="overflow-y: auto;">
            <!-- <div class="d-grid gap-2" style="padding:5px;">
              <button class="btn btn-primary" type="button">New</button>
            </div> -->
            <!-- <br/> -->
            <ol class="list-group list-group-numbered">
              <li class="list-group-item d-flex justify-content-between align-items-start">
                <a href="#">Content for list item</a>
                <span class="badge bg-danger rounded-pill"><a href="#" class="text-white">Delete</a></span>
              </li>


              <li class="list-group-item d-flex justify-content-between align-items-start">
                <a href="#">Content for list item</a>
                <span class="badge bg-danger rounded-pill"><a href="#" class="text-white">Delete</a></span>
              </li>

              <li class="list-group-item d-flex justify-content-between align-items-start">
                <a href="#">Content for list item</a>
                <span class="badge bg-danger rounded-pill"><a href="#" class="text-white">Delete</a></span>
              </li>

              <li class="list-group-item d-flex justify-content-between align-items-start">
                <a href="#">Content for list item</a>
                <span class="badge bg-danger rounded-pill"><a href="#" class="text-white">Delete</a></span>
              </li>

              <li class="list-group-item d-flex justify-content-between align-items-start">
                <a href="#">Content for list item</a>
                <span class="badge bg-danger rounded-pill"><a href="#" class="text-white">Delete</a></span>
              </li>

              



            </ol>
        </div>

        <main class="col-md-9 ms-sm-auto px-md-4">
          <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
            <!-- <h4 class="h4">Flow Setting</h4> -->
            <button class="btn btn-sm btn-danger" type="button">New</button>
            <div class="btn-toolbar mb-2 mb-md-0">
              <div class="btn-group me-2">
                <button type="button" class="btn btn-sm btn-primary">Save</button>
              </div>
            </div>
          </div>

        <!-- <div class="col-8"> -->
            <div class="alert alert-warning" role="alert" name="audit" style="display: none;"></div>
            <div class="card bg-white mb-3">
              <div class="card-header">Basic Settings</div>
              <div class="card-body">
                    <input type="text" name="id" style="display: none;">       
          
                    <div class="nput-group mb-3 form-check form-switch">
                      <input class="form-check-input" type="checkbox" role="switch" id="flow-setting-enabled" name="flowSettingEnabled" checked>
                      <label class="form-check-label" for="flow-setting-enabled">If enable depositing for this material flow.</label>
                    </div>

                    <div class="input-group mb-3">
                        <span class="input-group-text">Flow Name</span>
                        <input type="text" class="form-control" name="flowName">
                        <span class="input-group-text">Root Location</span>
                        <input type="input" class="form-control" name="rootPath" aria-describedby="desc-root-path">
                    </div>

                    <div class="input-group mb-3">
                        <span class="input-group-text">Producer</span>
                        <select class="form-control form-select mt-0" name="producer"></select>
                        <span class="input-group-text">Material Flow</span>
                        <select class="form-control form-select mt-0" name="materiaFlow"></select>
                    </div>
              </div>

              <div class="card-header">Advanced Settings</div>
              <div class="card-body">
                    <div class="input-group mb-3">
                        <span class="input-group-text">Stream Path</span>
                        <input type="text" class="form-control" placeholder="content/streams" , name="streamLocation">
                    </div>
                    <div class="input-group mb-3">
                        <span class="input-group-text">Injection Completed File Name</span>
                        <input type="text" class="form-control" placeholder="ready-for-ingestion-FOLDER-COMPLETED" ,
                               name="injectionCompleteFileName">
                    </div>

                    <div class="input-group mb-3">
                        <span class="input-group-text">Scan Interval (Seconds)</span>                        
                        <input type="text" class="form-control" placeholder="1" , name="delays">
                        <span class="input-group-text">Max Active Days</span>
                        <input type="text" class="form-control" placeholder="14" , name="maxActiveDays">
                        <span class="input-group-text">Max Storage Days</span>
                        <input type="text" class="form-control" placeholder="365" , name="maxSaveDays">
                    </div>

                    <div class="input-group mb-3">
                        <span class="input-group-text">Max Threads:</span>
                        <span class="input-group-text">Mon</span>
                        <input type="text" class="form-control" name="mon">
                        <span class="input-group-text">Tue</span>
                        <input type="text" class="form-control" name="tue">
                        <span class="input-group-text">Wed</span>
                        <input type="text" class="form-control" name="wed">
                        <span class="input-group-text">Thu</span>
                        <input type="text" class="form-control" name="thu">
                        <span class="input-group-text">Fri</span>
                        <input type="text" class="form-control" name="fri">
                        <span class="input-group-text">Sat</span>
                        <input type="text" class="form-control" name="sat">
                        <span class="input-group-text">Sun</span>
                        <input type="text" class="form-control" name="sun">
                    </div>
              </div>
            </div> <!--End of card-->       
        </div>
    </div> <!--End of row-->

</div> <!--End of container-fluid-->

<script src="../dist/jquery-3.5.1.min.js"></script>
<script src="../dist/bootstrap.bundle.js"></script>
<script src="../dist/toastr.min.js"></script>
<script src="dashboard.js"></script>
<script src="setting-flows.js"></script>
<script type="text/javascript">
// const tableFlowSettings=new DashboardTable('grid-flow-settings', defHeadersFlowSettings);
$(function(){
    const gridFlowSettings=new TreeGrid('grid-flow-settings', optionFlowSetting);

    fetchHttp('/dashboard/restful/setting/flow/all/get', null, function(rsp){
        var html=combineProducers(rsp);
        $('#flow-setting select[name="producer"]').html(html);
        
        $('#flow-setting select[name="producer"]').change(function() {
            var selectedId=$(this).val();
            //var selectedId=$('#flow-setting select[name="producer"] option:selected').val();
            var flows=mapMaterialFlows[selectedId];

            console.log(flows);

            $('#flow-setting select[name="materialFlow"]').html(flows);
        });
    });

    var template=$('#template-flow-setting').html();
    $('#ul-flow-setting-read').html(template);
    $('#ul-flow-setting-edit').html(template);

    $('#ul-flow-setting-read input').prop('disabled', true);
    $('#ul-flow-setting-read select').prop('disabled', true);
});
</script>
</body>
</html>